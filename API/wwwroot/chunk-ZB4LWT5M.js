import{a as I}from"./chunk-VAQXHD53.js";import{a as C,c as w}from"./chunk-XOURAERD.js";import"./chunk-MHIUT2CF.js";import{d as v,f as x,g as b,i as h,j as y,k as S,p as P,r as N}from"./chunk-GUU2YENF.js";import"./chunk-T7B252WK.js";import"./chunk-DZNB6D3O.js";import{j as g}from"./chunk-XWDU3J6L.js";import{a as F}from"./chunk-AEHWLKGT.js";import"./chunk-6U5655YX.js";import"./chunk-HLDRKBUV.js";import"./chunk-U3QUSVWF.js";import"./chunk-ZN3S7RNM.js";import{Cb as i,Db as r,Eb as f,Mb as u,Sa as m,Ta as n,Xb as a,bb as d,tb as p}from"./chunk-L2D5CQS2.js";var T=(()=>{class s{constructor(o,t,e,l){this.fb=o,this.profileService=t,this.preferencesService=e,this.router=l,this.profileForm=this.fb.group({fullName:["",v.required]})}profileSubmit(){let o=this.profileForm.get("fullName")?.value||"",[t,e]=o.split(" "),l={userId:this.preferencesService.getPreferences().user.id,firstName:t,lastName:e};this.profileService.createProfile(l).subscribe(j=>{this.profileService.getProfile(l.userId).subscribe(E=>{if(!this.preferencesService.getPreferences().nextPage)this.router.navigateByUrl("/dashboard");else{this.router.navigateByUrl(this.preferencesService.getPreferences().nextPage);let c=this.preferencesService.getPreferences();c.nextPage="",this.preferencesService.setPreferences(c)}})})}static{this.\u0275fac=function(t){return new(t||s)(n(P),n(I),n(F),n(g))}}static{this.\u0275cmp=d({type:s,selectors:[["app-profile-onboarding"]],decls:20,vars:6,consts:[[1,"py-12","sm:py-16","lg:py-20","xl:py-24","bg-gray-50"],[1,"px-4","mx-auto","max-w-7xl","sm:px-6","lg:px-8"],[1,"max-w-xl","mx-auto","text-center"],[1,"text-2xl","font-semibold","tracking-tight","text-gray-900","sm:text-3xl","lg:text-4xl"],[1,"mt-4","text-base","font-normal","leading-7","text-gray-600","lg:text-lg","lg:mt-6","lg:leading-8"],[1,"max-w-lg","mx-auto","mt-4","sm:mt-4"],[1,"p-6","sm:px-8"],[1,"mt-10",3,"formGroup"],[1,"space-y-4"],["for","",1,"sr-only"],[3,"type","formControl","placeholder","label"],[1,"relative","mt-8"],[1,"absolute","-inset-2"],[1,"w-full","h-full","mx-auto","opacity-30","blur-lg","filter"],[1,"relative","flex","items-center","justify-center","w-full","px-8","py-4","text-base","font-bold","text-white","transition-all","duration-200","bg-gray-900","border","border-transparent","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-900","font-pj","hover:bg-gray-600",3,"click","disabled"]],template:function(t,e){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4," Let's get to know each other "),r(),i(5,"p",4),a(6," Please fill out the form below to complete your profile setup. "),r()(),i(7,"div",5)(8,"div",6)(9,"form",7)(10,"div",8)(11,"div")(12,"label",9),a(13," First & Last Name "),r(),f(14,"app-text-input",10),r()(),i(15,"div",11)(16,"div",12),f(17,"div",13),r(),i(18,"button",14),u("click",function(){return e.profileForm.valid&&e.profileSubmit()}),a(19," Continue "),r()()()()()()()),t&2&&(m(9),p("formGroup",e.profileForm),m(5),p("type","text")("formControl",e.profileForm.get("fullName"))("placeholder","First & Last Name")("label","first & last name"),m(4),p("disabled",!e.profileForm.valid))},dependencies:[N,h,x,b,y,S,w,C],encapsulation:2})}}return s})();export{T as ProfileOnboardingComponent};
