import{a as E}from"./chunk-TDIR5Y3A.js";import"./chunk-TWQDPD4B.js";import"./chunk-MOHHWKAW.js";import{l as T,m as S,r as w,t as I}from"./chunk-XB25HVPP.js";import{Bb as g,Cb as f,Eb as k,Ib as b,Jb as p,Oa as n,Pa as _,Tb as o,Vb as m,Za as y,da as u,db as x,ea as v,ic as h,kc as C,pb as d,yb as r,zb as i}from"./chunk-KK5ZIUJ6.js";import"./chunk-4CLCTAJ7.js";function M(e,l){if(e&1){let t=k();g(0),r(1,"div",9)(2,"div",10)(3,"p",11),o(4),i(),r(5,"p",12),o(6),i(),r(7,"p",13),o(8),h(9,"date"),i(),r(10,"p",13),o(11),i(),r(12,"p",14),o(13),i(),r(14,"div",15)(15,"button",16),b("click",function(){u(t);let c=p().$implicit,s=p(2);return v(s.onResolve(c))}),o(16," Mark as Resolved "),i()()()(),f()}if(e&2){let t=p().$implicit;n(4),m(" ",t.title," "),n(2),m(" ",t.description," "),n(2),m(" ",C(9,5,t.createdDate,"dd MMM yyyy, h:mm a")," "),n(3),m(" Created by : ",t.createdBy," "),n(2),m(" Priority : ",t.priority," ")}}function O(e,l){if(e&1&&(g(0),x(1,M,17,8,"ng-container",8),f()),e&2){let t=l.$implicit;n(),d("ngIf",!t.archived)}}function F(e,l){if(e&1&&(r(0,"div",6),x(1,O,2,1,"ng-container",7),i()),e&2){let t=p();n(),d("ngForOf",t.tickets)}}function D(e,l){e&1&&(r(0,"div",6)(1,"p",17),o(2,"Nothing to show"),i()())}var j=(()=>{class e{constructor(t){this.ticketService=t,this.tickets=[]}ngOnInit(){this.ticketService.getTickets().subscribe(t=>{this.tickets=t.sort((a,c)=>{let s=["High","Medium","Low"];return s.indexOf(a.priority)-s.indexOf(c.priority)})})}onResolve(t){t.archived=!0,this.ticketService.archiveTicket(t.id).subscribe(a=>{window.location.reload()})}static{this.\u0275fac=function(a){return new(a||e)(_(E))}}static{this.\u0275cmp=y({type:e,selectors:[["app-ticket"]],decls:8,vars:2,consts:[[1,"bg-gray-50","dark:bg-neutral-900","w-screen","md:w-full","lg:w-full"],[1,"py-6"],[1,"px-4","mx-auto","sm:px-6","md:px-8"],[1,"max-w-md"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],["class","px-4 mx-auto mt-8 sm:px-6 md:px-8",4,"ngIf"],[1,"px-4","mx-auto","mt-8","sm:px-6","md:px-8"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-4","bg-transparent","border-b","dark:border-neutral-600"],[1,"px-4","py-5","sm:p-6"],[1,"text-base","capitalize","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-sm","font-medium","text-gray-500","dark:text-gray-600"],[1,"mt-2","text-sm","font-medium","text-gray-500"],[1,"mt-2","text-sm","font-bold","text-gray-500"],[1,"flex","gap-2","mt-4"],[1,"inline-flex","items-center","justify-center","px-4","py-2","text-sm","font-semibold","leading-5","text-gray-600","transition-all","duration-200","bg-transparent","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500","hover:bg-gray-50","hover:text-gray-900",3,"click"],[1,"font-medium","text-gray-500","text-muted"]],template:function(a,c){a&1&&(r(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o(5,"Tickets"),i()()(),x(6,F,2,1,"div",5)(7,D,3,0,"div",5),i()()),a&2&&(n(6),d("ngIf",c.tickets.length>0),n(),d("ngIf",!(c.tickets.length>0)))},dependencies:[I,T,S,w],encapsulation:2})}}return e})();export{j as TicketComponent};
