import './polyfills.server.mjs';
import{a as D}from"./chunk-PLJZVIGE.mjs";import{a as B}from"./chunk-3VPIIOTU.mjs";import{a as I}from"./chunk-W4KCEUCZ.mjs";import"./chunk-S5LLE7VL.mjs";import{a as w}from"./chunk-VMTRNC42.mjs";import"./chunk-4EQ3CSFW.mjs";import"./chunk-P5XOHON5.mjs";import{d as x,f as y,g as S,i as h,j as P,k as F,p as C,r as N}from"./chunk-JUYC4XRN.mjs";import"./chunk-D5MSRIRL.mjs";import"./chunk-ZTZUQXOY.mjs";import{a as b}from"./chunk-PMTGJU2L.mjs";import"./chunk-ZJ6JZSY5.mjs";import{p as g}from"./chunk-RKHYJ25K.mjs";import"./chunk-D2P6BBTD.mjs";import"./chunk-PBUWRJ2U.mjs";import"./chunk-4CMVCGMC.mjs";import{Bb as o,Cb as t,Db as f,Lb as v,Ra as a,Sa as i,Wb as l,ab as d,sb as m}from"./chunk-JQ55PVVS.mjs";import"./chunk-S6KH3LOX.mjs";var j=class p{constructor(n,r,e,s,E){this.fb=n;this.profileService=r;this.preferencesService=e;this.router=s;this.busyService=E;this.profileForm=this.fb.group({fullName:["",x.required]})}profileForm;profileSubmit(){let n=this.profileForm.get("fullName")?.value||"",[r,e]=n.split(" "),s={userId:this.preferencesService.getPreferences().user.id,firstName:r,lastName:e};this.busyService.busy(),this.profileService.createProfile(s).subscribe(E=>{this.profileService.getProfile(s.userId).subscribe(G=>{this.busyService.idle();let c=this.preferencesService.getPreferences();if(c.profile=G,this.preferencesService.setPreferences(c),!this.preferencesService.getPreferences().nextPage)this.router.navigateByUrl("/dashboard");else{this.router.navigateByUrl(this.preferencesService.getPreferences().nextPage);let u=this.preferencesService.getPreferences();u.nextPage="",this.preferencesService.setPreferences(u)}})})}static \u0275fac=function(r){return new(r||p)(i(C),i(D),i(b),i(g),i(I))};static \u0275cmp=d({type:p,selectors:[["app-profile-onboarding"]],decls:20,vars:6,consts:[[1,"py-12","sm:py-16","lg:py-20","xl:py-24","bg-gray-50"],[1,"px-4","mx-auto","max-w-7xl","sm:px-6","lg:px-8"],[1,"max-w-xl","mx-auto","text-center"],[1,"text-2xl","font-semibold","tracking-tight","text-gray-900","sm:text-3xl","lg:text-4xl"],[1,"mt-4","text-base","font-normal","leading-7","text-gray-600","lg:text-lg","lg:mt-6","lg:leading-8"],[1,"max-w-lg","mx-auto","mt-4","sm:mt-4"],[1,"p-6","sm:px-8"],[1,"mt-10",3,"formGroup"],[1,"space-y-4"],["for","",1,"sr-only"],[3,"type","formControl","placeholder","label"],[1,"relative","mt-8"],[1,"absolute","-inset-2"],[1,"w-full","h-full","mx-auto","opacity-30","blur-lg","filter"],[1,"relative","flex","items-center","justify-center","w-full","px-8","py-4","text-base","font-bold","text-white","transition-all","duration-200","bg-gray-900","border","border-transparent","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-900","font-pj","hover:bg-gray-600",3,"click","disabled"]],template:function(r,e){r&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," Let's get to know each other "),t(),o(5,"p",4),l(6," Please fill out the form below to complete your profile setup. "),t()(),o(7,"div",5)(8,"div",6)(9,"form",7)(10,"div",8)(11,"div")(12,"label",9),l(13," First & Last Name "),t(),f(14,"app-text-input",10),t()(),o(15,"div",11)(16,"div",12),f(17,"div",13),t(),o(18,"button",14),v("click",function(){return e.profileForm.valid&&e.profileSubmit()}),l(19," Continue "),t()()()()()()()),r&2&&(a(9),m("formGroup",e.profileForm),a(5),m("type","text")("formControl",e.profileForm.get("fullName"))("placeholder","First & Last Name")("label","first & last name"),a(4),m("disabled",!e.profileForm.valid))},dependencies:[N,h,y,S,P,F,w,B],encapsulation:2})};export{j as ProfileOnboardingComponent};
