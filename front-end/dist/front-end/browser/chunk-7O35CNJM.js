import{a as P}from"./chunk-B2T7HZ57.js";import{a as T}from"./chunk-QAP7QYNJ.js";import{a as R}from"./chunk-U7I2NAGB.js";import"./chunk-FCOCPX37.js";import"./chunk-YZIVIYTJ.js";import{d as u,f as C,g as E,i as I,j as F,k,p as _,r as D}from"./chunk-DSHMKTRR.js";import"./chunk-ZEON36AT.js";import"./chunk-2MHBVPJL.js";import{a as N}from"./chunk-PIAC254L.js";import"./chunk-PND7Q2S5.js";import"./chunk-U3QUSVWF.js";import"./chunk-W5MTSLKP.js";import"./chunk-5BAP7SGT.js";import"./chunk-JRLU6R7W.js";import{l as S,m as b,q as h,r as w}from"./chunk-VUEJJNO2.js";import{Db as t,Eb as e,Fb as c,Nb as f,Ob as g,Ta as n,Ua as p,Yb as r,_b as d,cb as x,ib as s,kc as v,lc as y,ub as m}from"./chunk-XMVMWOPN.js";function G(a,o){if(a&1&&(t(0,"div")(1,"p",16),r(2," Total Sales "),e(),t(3,"p",17),r(4),v(5,"currency"),e()()),a&2){let i=g();n(4),d(" ",y(5,1,i.periodTotal())," ")}}function O(a,o){if(a&1&&(t(0,"tr")(1,"td",18),r(2),e(),t(3,"td",19),r(4),e(),t(5,"td",19),r(6),e(),t(7,"td",19),r(8),e(),t(9,"td",19),r(10),e()()),a&2){let i=o.$implicit;n(2),d(" ",i.Id," "),n(2),d(" ",i.Date," "),n(2),d(" ",i.Customer," "),n(2),d(" ",i.Item," "),n(2),d(" ",i.Price," ")}}function M(a,o){a&1&&(t(0,"tr")(1,"td",20),r(2," Nothing to show. "),e()())}var B=class a{constructor(o,i,l){this.fb=o;this.reportService=i;this.busyService=l}sales=[];periodForm;ngOnInit(){this.periodForm=this.fb.group({startDate:["",u.required],endDate:["",u.required]})}periodTotal(){let o=0;for(let i=0;i<this.sales.length;i++)this.sales[i].Price&&(o+=this.sales[i].Price);return o}onSubmit(){this.busyService.busy(),this.reportService.getSalesReport(this.periodForm.value).subscribe(o=>{this.sales=o,this.busyService.idle()})}static \u0275fac=function(i){return new(i||a)(p(_),p(P),p(N))};static \u0275cmp=x({type:a,selectors:[["app-sales-report"]],decls:35,vars:13,consts:[[1,"bg-gray-50","dark:bg-neutral-900","w-screen","md:w-full","lg:w-full"],[1,"py-6"],[1,"px-4","mx-auto","sm:px-6","md:px-8"],[1,"max-w-md"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"px-4","mx-auto","mt-8","sm:px-6","md:px-8"],[1,"flex","gap-4","mb-6",3,"formGroup"],[1,"block","text-sm","mb-2","font-medium","text-gray-900","dark:text-white","sm:mt-px","sm:pt-2"],[3,"type","formControl","placeholder","label"],[1,"inline-flex","h-fit","self-end","items-center","justify-center","px-5","py-4","text-sm","font-semibold","leading-4","text-white","transition-all","duration-200","bg-indigo-600","border","border-transparent","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-600","hover:bg-indigo-500",3,"click","disabled"],[4,"ngIf"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-neutral-900"],[1,"bg-gray-50","dark:bg-neutral-600"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","dark:text-gray-300","uppercase","tracking-wider"],[1,"bg-white","dark:bg-neutral-900","divide-y","divide-gray-200","dark:divide-neutral-900"],[4,"ngFor","ngForOf"],[1,"text-sm","w-fit","font-medium","mb-1","border-b","text-gray-900","dark:text-white","lg:order-1"],[1,"text-xl","mb-2","font-bold","text-gray-900","dark:text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500","dark:text-gray-300"],["colspan","5",1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500","dark:text-gray-300","text-center"]],template:function(i,l){i&1&&(t(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),r(5," Sales Report "),e()()(),t(6,"div",5)(7,"form",6)(8,"div")(9,"p",7),r(10," Start Date "),e(),c(11,"app-text-input",8),e(),t(12,"div")(13,"p",7),r(14," End Date "),e(),c(15,"app-text-input",8),e(),t(16,"button",9),f("click",function(){return l.periodForm.valid&&l.onSubmit()}),r(17," Generate Report "),e()(),s(18,G,6,3,"div",10),t(19,"table",11)(20,"thead",12)(21,"tr")(22,"th",13),r(23," ID "),e(),t(24,"th",13),r(25," Purchase Date "),e(),t(26,"th",13),r(27," Customer "),e(),t(28,"th",13),r(29," Item "),e(),t(30,"th",13),r(31," Price "),e()()(),t(32,"tbody",14),s(33,O,11,5,"tr",15)(34,M,3,0,"tr",10),e()()()()()),i&2&&(n(7),m("formGroup",l.periodForm),n(4),m("type","date")("formControl",l.periodForm.get("startDate"))("placeholder","Start Date")("label","start date"),n(4),m("type","date")("formControl",l.periodForm.get("endDate"))("placeholder","End Date")("label","end date"),n(),m("disabled",!l.periodForm.valid),n(2),m("ngIf",l.sales.length>0),n(15),m("ngForOf",l.sales),n(),m("ngIf",l.sales.length===0))},dependencies:[D,I,C,E,F,k,w,S,b,h,R,T],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text}"]})};export{B as SalesReportComponent};
