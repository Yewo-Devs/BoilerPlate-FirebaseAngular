import{a as E}from"./chunk-REDOU4OW.js";import{a as D}from"./chunk-G6VSAEU6.js";import"./chunk-5BAP7SGT.js";import"./chunk-JRLU6R7W.js";import{l as S,m as w,p as I,r as k}from"./chunk-VUEJJNO2.js";import{Db as n,Eb as o,Gb as b,Hb as N,Jb as _,Nb as v,Ob as s,Ta as r,Ua as x,Yb as a,_b as l,cb as y,ha as g,ia as u,ib as f,kc as h,mc as C,ub as c}from"./chunk-XMVMWOPN.js";function M(i,e){if(i&1){let t=_();n(0,"button",16),v("click",function(){g(t);let d=s().$implicit,p=s(2);return u(p.onAction(d.actionUrl))}),a(1," Action "),o()}}function O(i,e){if(i&1){let t=_();b(0),n(1,"div",8)(2,"div",9)(3,"p",10),a(4),o(),n(5,"p",11),a(6),o(),n(7,"p",12),a(8),h(9,"date"),o(),n(10,"div",13),f(11,M,2,0,"button",14),n(12,"button",15),v("click",function(){let d=g(t).$implicit,p=s(2);return u(p.onDelete(d))}),a(13," Delete "),o()()()(),N()}if(i&2){let t=e.$implicit;r(4),l(" ",t.title," "),r(2),l(" ",t.message," "),r(2),l(" ",C(9,4,t.dateTime,"dd MMM yyyy, h:mm a")," "),r(3),c("ngIf",t.actionUrl)}}function P(i,e){if(i&1&&(n(0,"div",6),f(1,O,14,7,"ng-container",7),o()),i&2){let t=s();r(),c("ngForOf",t.notifications)}}function V(i,e){i&1&&(n(0,"div",6)(1,"p",17),a(2,"Nothing to show"),o()())}var T=class i{constructor(e,t){this.notificationService=e;this.preferencesService=t}notifications=[];ngOnInit(){let e=this.preferencesService.getPreferences().user;this.notificationService.getNotifications(e.id).subscribe(t=>{this.notifications=t})}onAction(e){window.open(e,"_self")}onDelete(e){e.archived=!0,this.notificationService.archiveNotification(e.id).subscribe()}static \u0275fac=function(t){return new(t||i)(x(E),x(D))};static \u0275cmp=y({type:i,selectors:[["app-notifications"]],decls:8,vars:2,consts:[[1,"bg-gray-50","dark:bg-neutral-900","w-screen","md:w-full","lg:w-full"],[1,"py-6"],[1,"px-4","mx-auto","sm:px-6","md:px-8"],[1,"max-w-md"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],["class","px-4 mx-auto mt-8 sm:px-6 md:px-8",4,"ngIf"],[1,"px-4","mx-auto","mt-8","sm:px-6","md:px-8"],[4,"ngFor","ngForOf"],[1,"mt-4","bg-transparent","border-b","dark:border-neutral-600"],[1,"px-4","py-5","sm:p-6"],[1,"text-base","capitalize","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-sm","font-medium","text-gray-500","dark:text-gray-600"],[1,"mt-2","text-sm","font-medium","text-gray-500"],[1,"flex","gap-2","mt-4"],["class","inline-flex items-center justify-center px-4 py-2 text-sm font-semibold leading-5 text-gray-600 transition-all duration-200 bg-transparent border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 hover:bg-gray-50 hover:text-gray-900",3,"click",4,"ngIf"],[1,"inline-flex","items-center","justify-center","px-4","py-2","text-sm","font-semibold","leading-5","text-gray-600","transition-all","duration-200","bg-transparent","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500","hover:bg-gray-50","hover:text-gray-900",3,"click"],[1,"inline-flex","items-center","justify-center","px-4","py-2","text-sm","font-semibold","leading-5","text-gray-600","transition-all","duration-200","bg-transparent","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500","hover:bg-gray-50","hover:text-gray-900",3,"click"],[1,"font-medium","text-gray-500","text-muted"]],template:function(t,m){t&1&&(n(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5," Notifications "),o()()(),f(6,P,2,1,"div",5)(7,V,3,0,"div",5),o()()),t&2&&(r(6),c("ngIf",m.notifications.length>0),r(),c("ngIf",!(m.notifications.length>0)))},dependencies:[k,S,w,I],encapsulation:2})};export{T as NotificationsComponent};
