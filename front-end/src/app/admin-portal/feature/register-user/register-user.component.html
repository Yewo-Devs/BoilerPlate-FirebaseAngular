<main class="bg-gray-50 dark:bg-neutral-900">
  <div class="py-6">
    <div class="px-4 mx-auto sm:px-6 md:px-8">
      <div class="max-w-md">
        <h1
          class="text-lg font-bold text-gray-900 dark:text-white dark:text-white"
        >
          Register User
        </h1>
      </div>
    </div>
    <div class="px-4 mx-auto mt-8 sm:px-6 md:px-8">
      <hr class="mt-6 border-gray-200" />

      <form [formGroup]="profileForm" class="max-w-5xl mt-12">
        <div class="space-y-8">
          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <label
              for="profilePhoto"
              class="block text-sm font-medium text-gray-900 dark:text-white sm:mt-px sm:pt-2"
            >
              Profile Photo
            </label>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <div class="flex items-center space-x-6">
                <img
                  loading="lazy"
                  class="flex-shrink-0 object-cover w-12 h-12 rounded-lg"
                  [src]="
                    profileForm.get('photoUrl').value
                      ? profileForm.get('photoUrl').value
                      : '../../../../assets/images/img.svg'
                  "
                  alt=""
                />
                <button
                  type="button"
                  class="text-sm font-semibold text-gray-400 transition-all duration-200 rounded-md hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-600"
                  (click)="removePhoto()"
                >
                  Remove
                </button>

                <button
                  type="button"
                  class="text-sm font-semibold text-indigo-600 transition-all duration-200 rounded-md hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600"
                  (click)="fileInput.click()"
                >
                  Update
                </button>
                <input
                  type="file"
                  #fileInput
                  (change)="updatePhoto($event)"
                  style="display: none"
                />
              </div>
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <label
              for=""
              class="block text-sm font-medium text-gray-900 dark:text-white sm:mt-px sm:pt-2"
            >
              First & Last Name
            </label>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-5">
                <div>
                  <app-text-input
                    [type]="'text'"
                    [formControl]="profileForm.get('firstName')"
                    [placeholder]="'First Name'"
                    [label]="'first name'"
                  />
                </div>

                <div>
                  <app-text-input
                    [type]="'text'"
                    [formControl]="profileForm.get('lastName')"
                    [placeholder]="'Last Name'"
                    [label]="'last name'"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <label
              for=""
              class="block text-sm font-medium text-gray-900 dark:text-white sm:mt-px sm:pt-2"
            >
              Email Address
            </label>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <app-text-input
                [type]="'text'"
                [formControl]="profileForm.get('email')"
                [placeholder]="'Email'"
                [label]="'email'"
              />
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <label
              for=""
              class="block text-sm font-medium text-gray-900 dark:text-white sm:mt-px sm:pt-2"
            >
              Password
            </label>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <app-text-input
                [type]="'password'"
                [formControl]="profileForm.get('password')"
                [placeholder]="'Password'"
                [label]="'password'"
              />
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <div class="sm:mt-px sm:pt-2">
              <label
                for=""
                class="block text-sm font-medium text-gray-900 dark:text-white"
              >
                Username
              </label>
            </div>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <app-text-input
                [type]="'text'"
                [formControl]="profileForm.get('username')"
                [placeholder]="'Username'"
                [label]="'username'"
              />
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <div class="sm:mt-px sm:pt-2">
              <label
                for=""
                class="block text-sm font-medium text-gray-900 dark:text-white"
              >
                Role
              </label>
            </div>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <select
                class="block w-full px-4 py-3 placeholder-gray-500 border -gray-300 rounded-lg focus:ring-gray-900 focus:border-gray-900 sm:text-sm caret-gray-900"
                formControlName="role"
              >
                <option value="Admin">Admin</option>
                <option value="User">User</option>
              </select>
            </div>
          </div>

          <div class="sm:grid sm:grid-cols-3 sm:gap-5 sm:items-start">
            <div class="sm:mt-px sm:pt-2">
              <label
                for=""
                class="block text-sm font-medium text-gray-900 dark:text-white"
              >
                Permissions
              </label>
            </div>
            <div class="mt-2 sm:mt-0 sm:col-span-2">
              <p-multiselect
                [options]="permissions"
                formControlName="permissions"
                placeholder="Select Permissions"
                styleClass="w-full"
              />
            </div>
          </div>
        </div>

        <div class="mt-6 sm:mt-12">
          <button
            [disabled]="!profileForm.valid"
            (click)="profileForm.valid && onSubmit()"
            class="inline-flex items-center justify-center px-5 py-3 text-sm font-semibold leading-4 text-white transition-all duration-200 bg-indigo-600 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 hover:bg-indigo-500"
          >
            Register
          </button>
        </div>
      </form>
    </div>
  </div>
</main>
