<main class="bg-gray-50 dark:bg-neutral-900 w-screen md:w-full lg:w-full">
  <div class="py-6">
    <div class="px-4 mx-auto sm:px-6 md:px-8">
      <div class="max-w-md">
        <h1 class="text-lg font-bold text-gray-900 dark:text-white">
          Sales Report
        </h1>
      </div>
    </div>

    <div class="px-4 mx-auto mt-8 sm:px-6 md:px-8">
      <form [formGroup]="periodForm" class="flex gap-4 mb-6">
        <div>
          <p
            class="block text-sm mb-2 font-medium text-gray-900 dark:text-white sm:mt-px sm:pt-2"
          >
            Start Date
          </p>
          <app-text-input
            [type]="'date'"
            [formControl]="periodForm.get('startDate')"
            [placeholder]="'Start Date'"
            [label]="'start date'"
          />
        </div>
        <div>
          <p
            class="block text-sm mb-2 font-medium text-gray-900 dark:text-white sm:mt-px sm:pt-2"
          >
            End Date
          </p>
          <app-text-input
            [type]="'date'"
            [formControl]="periodForm.get('endDate')"
            [placeholder]="'End Date'"
            [label]="'end date'"
          />
        </div>
        <button
          [disabled]="!periodForm.valid"
          (click)="periodForm.valid && onSubmit()"
          class="inline-flex h-fit self-end items-center justify-center px-5 py-4 text-sm font-semibold leading-4 text-white transition-all duration-200 bg-indigo-600 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 hover:bg-indigo-500"
        >
          Generate Report
        </button>
      </form>
      <div *ngIf="sales.length > 0">
        <p
          class="text-sm w-fit font-medium mb-1 border-b text-gray-900 dark:text-white lg:order-1"
        >
          Total Sales
        </p>
        <p class="text-xl mb-2 font-bold text-gray-900 dark:text-white">
          {{ periodTotal() | currency }}
        </p>
      </div>
      <table
        class="min-w-full divide-y divide-gray-200 dark:divide-neutral-900"
      >
        <thead class="bg-gray-50 dark:bg-neutral-600">
          <tr>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              ID
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Purchase Date
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Customer
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Item
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Price
            </th>
          </tr>
        </thead>
        <tbody
          class="bg-white dark:bg-neutral-900 divide-y divide-gray-200 dark:divide-neutral-900"
        >
          <tr *ngFor="let sale of sales">
            <td
              class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"
            >
              {{ sale.Id }}
            </td>
            <td
              class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              {{ sale.Date }}
            </td>
            <td
              class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              {{ sale.Customer }}
            </td>
            <td
              class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              {{ sale.Item }}
            </td>
            <td
              class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              {{ sale.Price }}
            </td>
          </tr>
          <tr *ngIf="sales.length === 0">
            <td
              colspan="5"
              class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-center"
            >
              Nothing to show.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</main>
